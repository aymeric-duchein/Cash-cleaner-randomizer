# Cash Cleaner Simulator â€” Randomizer Mod ðŸ”§

**Randomizer** is a mod for Cash Cleaner Simulator that randomizes in-game items and rewards to create fresh and replayable runs. This repository contains the Lua scripts used by the UE4SS mod to implement randomization logic, item and reward management and save handling.

Rewarded actions include quest completions, quest difficulty and quest special objectives (no fake money, exact delivery ...), world interactables (rare money, rare coins...), and other location-specific like going out of bound or dunking 200 times.
Rewards come in several forms such as reputation gain, lowering required reputation for market items, in-game currency, enhanced stack size (both for your hands and machines) or changes to the quest generation.
Be careful as canceling or failling a quest will punish you with a even more greedy pig.

You can expect a slow start and a very fast evolution after unlocking some key items/upgrades. Quest won't reward you any reputation!

---

## Contents ðŸ“

- `enabled.txt` â€” Controls whether the mod is loaded by the game. (Place `1` or `0` as needed.)
- `Readme.md` â€” This document.
- `Saved/` â€” Directory used for mod save or runtime data (generated by the mod).
- `scripts/` â€” Folder containing Lua scripts that implement the mod logic.

### scripts/ (high-level)

- `main.lua` â€” Entry point and orchestrator for the mod; initializes systems and hooks into game events.

- `marketDB.lua` â€” Market-related item database.
- `marketLogic.lua` â€” Logic for randomizing items available in the market and their prices.

- `questLogic.lua` â€” Handles logic for adjusting or randomizing quests.

- `reward.lua` â€” Core reward model used across systems.
- `rewardList.lua` â€” Lists and pools of rewards used for random selection.
- `rewardLocations.lua` â€” Mapping of rewards to locations and placement rules.

- `save.lua` â€” Save/load logic for the mod-specific state and randomization results.
- `stackSize.lua` â€” Rules for stackable items, sizes, and how they're randomized.

- `utils.lua` â€” Utility functions and helpers used by multiple modules.
- `validationRule.lua` â€” Definitions for validation rules that ensure placements are legal and playable. Just here as a reminder for now.

- `worldInteraction.lua` â€” Hooks and interactions with world objects and in-game events.

## Rewards & Locations ðŸ“

This mod places rewards in several location types. Relevant scripts:

### Rewards
Here is a list of currently implemented rewards:
- Improved stack size ( hands and counting machines)
- Reputation gain
- Money Gain
- Lowering reputation requirement for the following items:
    - Money Gun
    - Washers
    - UV lamps
    - Dryer
    - All Money counters
    - Ladder
    - Workbench tools and consumables
    - Sticker Gun
    - Money Gun
- Improving Quest generation
    - Higher percent of packs in given money
    - More money per container
    - Less marked money
    - Less required money for quest completion
    - Less Trash
    - Fewer mixed currency, with increased value
    - More rare currencies
    - More moeny given

### Locations
The "locations" are actions you need to do in order to get rewards:
- Completing a main quest (up to 50)
- Completing a side quest (up to 30)
- Completing a side quest with an extra bonus:
    - Exact money value
    - More money value (10%)
    - Much more money value (20%)
    - Single delivery
    - Nothing else
    - No marked money
    - No marked money on a marked money quest
    - No fake money
    - No fake money on a fake money quest
    - Perfect packs
    - Perfect packs on a pack quest (ask for bill in strap)
    - Perfect blocks
    - Perfect blocks on a cling wrap quest
    - Marked with Labels
    - Perfect rolls (coin)
    - Perfect roll-blocks
- Completing a side quest of a specific difficulty (from 0 to 9)
- Unlocking the Relax Area
- Unlocking the Upper Area 
- Dunking 200 times
- Resting out of bound
- Buying a Money gun
- Collecting rare money, marked money and rare coins

---

## Installation âœ…

1. Place the `Randomizer` folder into your UE4SS `Mods/` directory (path shown in this repo).  
2. Ensure `enabled.txt` contains `1` to enable the mod.  
3. Launch the game; the mod will initialize automatically during startup.

> Note: This will break existing save files !

> Note: For now this mod will only work using the English language in game

> Note: The save state isn't linked to a save slot so you might only have one running game at a time.

---

## Configuration & Usage âš™ï¸

- The main randomization behavior is controlled by `main.lua` and related modules; edit configuration constants in the scripts if you need to tweak behavior.
- Save data for randomized runs is stored under `Saved/` â€” inspect `save.lua` for exact formats. Two files will be generated at mod startup, a `spoiler.lua` and a `state.lua`. The spoiler file will contain the randomization output and the state will contain the current save status. 

---

## Development & Testing ðŸ”¬

- Scripts are pure Lua and intended to run under UE4SS Lua environment. Use in-editor logging and the game's logs to diagnose runtime issues.
- When changing databases or item lists, validate placement rules and run a few randomized seeds to verify playability.

---

## Contributing ðŸ¤

- Feel free to open issues or PRs for bug fixes, feature requests, and improvements.
- Keep changes small and focused; include a short description of behavior changes and tests if possible.

---

## Thanks

A big thank you to all the other mod creators, a big part of this mod was made possible only by reading their mod and straight up copy-pasting some of them. 
Here is a link to their Nexus mods page as it's where I got access to their mods
- [CrazyMetal](https://www.nexusmods.com/) => first in the list for a reason, biggest list of mods and shared the UE4 mod that allows all of this to work
- [Norekk](https://www.nexusmods.com/profile/Norekk)
- [sh4d0wqxz](https://www.nexusmods.com/profile/sh4d0wqxz)
- [Gamuholic](https://www.nexusmods.com/profile/Gamuholic)
- [MjakovskiyChai](https://www.nexusmods.com/profile/MjakovskiyChai)

Want your name removed or feel like I forget to mention you? feel free to open an issue :)  

